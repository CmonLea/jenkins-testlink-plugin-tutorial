<?xml version="1.0" encoding="UTF-8"?>
<chapter id="chapter.4">
	<title>TestLink Configuration</title>
	
	<section>

		<title>Installing TestLink</title>
	
		<para>In this part of the tutorial we will show how to install and 
		configure TestLink. Let's start by downloading testlink-1.9.3.tar.gz 
		from <ulink url="http://www.teamst.org">http://www.teamst.org</ulink>. 
		Decompress it using tar -zxvf testlink-1.9.2.tar.gz. Move the directory 
		created to your http server (e.g.: Apache) root directory and open 
		<ulink url="http://localhost/testlink-1.9.3">
		http://localhost/testlink-1.9.3</ulink> in your browser.</para>
		
		<para>
			<mediaobject id="testlink_002">
				<imageobject>
					<imagedata 
					   align="center" 
					   fileref="../media/testlink_002.png" 
					   width="50%" 
                       contentdept="50%" 
					   format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>
			<mediaobject id="testlink_003">
				<imageobject>
					<imagedata 
					   align="center" 
					   fileref="../media/testlink_003.png" 
					   width="100%" 
                       contentdept="100%" 
					   format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>Now the installation wizard will guide you through the rest of  
		the installation. Before going on, you need to create a database in 
		MySQL.</para>
		
		<para><command>mysql> create database testlink;</command></para>
		
		<para>The next step is to create a user that TestLink will use to 
		access the database.</para>
		
		<para>
		<command>mysql> grant all privileges on testlink.* to 'testlink' identified by 'testlink';</command>
		</para>
		
		<para><command>mysql> flush privileges;</command></para>
		
		<para>
			<mediaobject id="testlink_004">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_004.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>
			<mediaobject id="testlink_005">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_005.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>
			<mediaobject id="testlink_006">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_006.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>If everything worked out correctly you should be asked to log in 
		using admin:admin (user:password).</para>
		
		<para>TestLink contains a configuration file that you 
		need to change before going to the next section. 
		In $TESTLINK_HOME/config.inc.php, find 
		$tlCfg->api->enabled and 
		set its value to TRUE. Then look for $g_attachments->order_by and set 
		its value to " ORDER BY id ASC " (leave the blank spaces before 
		and after the order by clause). The first configuration enables the 
		XML-RPC API for external access, and the latter changes the column on 
		which TestLink orders attachments. The precision of the date_added  
		column in the attachments table is limited to seconds, so if you insert two attachments at same 
		time the values returned by your database may be inconsistent.</para>
	
	</section>
	
	<section>
		
		<title>Creating a sample Test Project</title>
		
		<para>When you log in by the first time to TestLink it is showed to you 
		a form that lets you create your first Test Project. You can have as 
		many test projects as you want. It is under a test project where you 
		will create test plans, test cases, requirements, custom fields and 
		other entities.</para>
		
		<para>
			<mediaobject id="testlink_007">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_007.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>Create a test project with name My first project, 
		prefix MFP and make sure the following options are checked: Enable 
		Requirements feature, Enable Testing Priority, 
		Enable Test Automation (API keys), Enable Inventory, 
		Active and Public. 
		Click on Create to finish.</para>
		
		<para>
			<mediaobject id="testlink_008">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_008.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>If the following screen is not displayed 
		go back and check to see if you did not miss any of the previous steps.</para>
		
		<para>
			<mediaobject id="testlink_009">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_009.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
	</section>
	
	<section>
	
		<title>Creating and assigning the Custom Field for automation</title>
	
		<para>Click on the Project item of the top menu to be redirected to 
		the main screen. Now we will create the custom field used for 
		automation. This information is used by the plug-in to link an 
		automated test case from TestLink to a Test Result of your set of tests.</para>
		
		<para>Click on Define Custom Fields under the 
		Test Project options box. Now create a custom 
		field using the name Java class, label 
		Java class, available for Test Case, 
		type string, enable on	Test Spec Design 
		and display on test execution No.</para>
		
		<para>
			<mediaobject id="testlink_010">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_010.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>
			<mediaobject id="testlink_011">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_011.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>Now we only need to assign this custom field to be used in 
		our test project. Go back to the main screen and click on 
		Assign Custom Fields, it will take you to a 
		screen with the list of	available custom fields. Select the Java 
		class custom field and click on the Assign button.</para>
		
		<para>
			<mediaobject id="testlink_012">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_012.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
	
	</section>
	
	<section>
	
		<title>Specify your tests</title>
		
		<para>For those whom work with tests this part may be really easy. 
		What we are going to do now is create a test suite and a test case. 
		In TestLink you always keep your test cases under a test suite.</para>
		
		<para>Back to the main screen, in the top menu there is the option 
		Test Specification. Click on this option. The test specification 
		screen is quite simple. On the left you have the navigator, with the 
		settings, filter and the tree of test suites and test cases. Start 
		clicking on your test project to see the test suite operations 
		available.</para>
		
		<para>
			<mediaobject id="testlink_013">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_013.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>Create a test suite with any name that you want. This field is 
		not important for our guide. Once created, your test suite will be  
		displayed in the tree on the left. Now click on the test suite in the 
		tree to see the test case operations.</para>
		
		<para>
			<mediaobject id="testlink_014">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_014.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>Create a test case with any title or summary. The important 
		information on this screen for the automation are the execution type 
		and the Java class (custom field created in the previous step). In 
		execution type select Automated and for Java class fill with the 
		java class name sample.Tests.</para>
		
		<para>
			<mediaobject id="testlink_015">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_015.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>
			<mediaobject id="testlink_016">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_016.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>
			<mediaobject id="testlink_017">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_017.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>
			<mediaobject id="testlink_018">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_018.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
	
	</section>
	
	<section>
	
		<title>The last step: create your test plan and add test cases</title>
	
		<para>This is the last step for the TestLink configuration. However 
		before we start this step, there is an important concept in TestLink, 
		the Builds. In TestLink, you create a test plan outlining what and how 
		you are going to test the application under test. Once you have a test 
		plan you can start to add test cases to your test plan, and then 
		execute it. A build in TestLink is the execution of a test plan, and 
		after the test plan was executed you are not allowed to edit the 
		test cases of this test plan (it wouldn't be right to change the scope 
		or exit criteria of a test case after it had been executed).</para>
	
		<para>Go back to the main screen and click on the Test Plan Management 
		option available under the Test Plan box on the right of the scren. 
		Create a test plan with the name My first test plan, any 
		description and make sure that Active and 
		Public are checked.</para>
		
		<para>
			<mediaobject id="testlink_019">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_019.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
		
		<para>
			<mediaobject id="testlink_020">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_020.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
	
		<para>In the last box on the right of the screen, click on Add / Remove 
		Test Cases and add the test case that you created to your test plan.</para>
	
		<para>
			<mediaobject id="testlink_021">
				<imageobject>
					<imagedata align="center" fileref="../media/testlink_021.png" contentwidth="800px" format="PNG" />
				</imageobject>
			</mediaobject>
		</para>
	
		<para>You may create a build or not, this step is optional. The plug-in 
		automatically creates a new build if there is none with the name that 
		you provided in the Jenkins job configuration page. When you go back 
		to your test plan you should see more options available in the Test 
		Plan box and two other boxes: Test Execution and Test Plan contents, 
		as well as other options available in the top menu.</para>
		
		<para>We are done with TestLink for now, the next step is configuring Jenkins.</para>
	
	</section>
	
</chapter>